# ๐ค ููุฒุฉ ุงูุฅุฏุฎุงู ุงูุตูุชู - TFLite Speech Recognition

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ููุฒุฉ ุงูุฅุฏุฎุงู ุงูุตูุชู ุงููุงููุฉ ูุน ุฏุนู ููุงุฐุฌ TensorFlow Lite ุงููุญููุฉ!

---

## โจ ุงููููุฒุงุช

```
โ ุชุณุฌูู ุตูุชู ูู ุงููููุฑูููู
โ ุชุญููู ุงูุตูุช ุฅูู ูุต ูุญููุงู (TFLite)
โ ุฅุฏุฑุงุฌ ุงููุต ุชููุงุฆูุงู ูู ุญูู ุงูุฅุฏุฎุงู
โ ูุคุดุฑ ุจุตุฑู ููุชุณุฌูู
โ ูุคุดุฑ ูุณุชูู ุงูุตูุช
โ ุฏุนู ูุงูู ููุนุฑุจูุฉ (ุญุณุจ ุงููููุฐุฌ)
โ ุจุฏูู ุฅูุชุฑูุช - 100% ูุญูู
```

---

## ๐ฏ ููู ุชุนููุ

### 1. ุงุถุบุท ุนูู ุฒุฑ ุงููููุฑูููู ๐ค
```
ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ โ ๐ค (ุจุฌุงูุจ ุฒุฑ ุงูุฅุฑุณุงู)
```

### 2. ุงุจุฏุฃ ุงูููุงู
```
๐ค โ ูุชุญูู ุฅูู โน๏ธ (ุฃุญูุฑ)
ุงููููุฑูููู ูุณุฌู ุตูุชู
```

### 3. ุงููุต ูุธูุฑ ุชููุงุฆูุงู
```
ุงูุตูุช โ ุงููููุฐุฌ โ ูุต ูู ุญูู ุงูุฅุฏุฎุงู
```

### 4. ุฃุฑุณู ุฃู ุฃููู ุงูููุงู
```
ุงุถุบุท โค ููุฅุฑุณุงู
ุฃู ๐ค ูุฑุฉ ุฃุฎุฑู ููุฅููุงู
```

---

## ๐ ุงูุจููุฉ

### ุงููููุงุช ุงูุฌุฏูุฏุฉ:

#### 1. **SpeechRecognizer.kt** (370 ุณุทุฑ)
```kotlin
ุงููุณุงุฑ: app/src/main/java/com/awab/ai/SpeechRecognizer.kt

ุงููุธุงุฆู:
โ ุชุญููู ูููุฐุฌ TFLite
โ ุชุณุฌูู ุงูุตูุช (16kHz, Mono)
โ ูุนุงูุฌุฉ ุงูุตูุช
โ ุชุญููู ุฅูู ูุต
โ ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ
```

#### 2. **MainActivity.kt** (ูุญุฏูุซ)
```kotlin
ุงูุฅุถุงูุงุช:
โ ุฒุฑ ุงููููุฑูููู ๐ค
โ ุฏูุฌ SpeechRecognizer
โ ูุงุฌูุฉ ุงูุชุณุฌูู
โ ุฅุฏุงุฑุฉ ุงูุฃุฐููุงุช
```

#### 3. **build.gradle.kts** (ูุญุฏูุซ)
```kotlin
ุงูุฅุถุงูุงุช:
โ TensorFlow Lite 2.14.0
โ TensorFlow Lite Support 0.4.4
โ mlModelBinding
โ aaptOptions ููู .tflite
```

---

## ๐ง ุฅุนุฏุงุฏุงุช ุงููููุฐุฌ

### 1. ููุงู ุงููููุฐุฌ:
```
app/
 โโ src/
    โโ main/
       โโ assets/
          โโ speech_model.tflite  โ ุถุน ุงููููุฐุฌ ููุง
          โโ vocabulary.txt        โ (ุงุฎุชูุงุฑู) ููู ุงูููุฑุฏุงุช
```

### 2. ููุงุตูุงุช ุงููููุฐุฌ ุงููุชููุนุฉ:
```
Input:
- Type: Float32
- Shape: [1, 16000] ุฃู [1, sample_rate]
- Format: Normalized audio (-1.0 to 1.0)

Output:
- Type: Float32
- Shape: [1, vocabulary_size]
- Format: Probabilities
```

### 3. ุฅุนุฏุงุฏุงุช ุงูุตูุช:
```kotlin
Sample Rate: 16000 Hz
Channels: Mono
Format: PCM 16-bit
Buffer Size: Auto-calculated
```

---

## ๐๏ธ ุชุฎุตูุต ุงููููุฐุฌ

### ุชุนุฏูู ุญุฌู ุงูุฏุฎู:
```kotlin
// ูู SpeechRecognizer.ktุ ุงูุณุทุฑ 24
private val inputSize = 16000 // 1 second at 16kHz

// ูุชุบููุฑ ุงููุฏุฉ:
// 2 ุซูุงูู: 32000
// 3 ุซูุงูู: 48000
```

### ุชุนุฏูู ูุนุงูุฌุฉ ุงููุฎุฑุฌุงุช:
```kotlin
// ูู SpeechRecognizer.ktุ ุฏุงูุฉ processOutput()
private fun processOutput(output: Array<FloatArray>): String {
    // ุนุฏูู ููุง ุญุณุจ ุดูู ูุฎุฑุฌุงุช ูููุฐุฌู
}
```

### ุฅุถุงูุฉ ููู ุงูููุฑุฏุงุช:
```
app/src/main/assets/vocabulary.txt

ูุญุชูู ุงูููู (ูุซุงู):
ุงูุชุญ
ุฃููู
ุงุชุตู
ุดุบู
ุงุทูู
ูุงุชุณุงุจ
ููุชููุจ
...
```

---

## ๐ ุณูุฑ ุงูุนูู

### 1. ุงูุชุณุฌูู:
```
ุงููุณุชุฎุฏู ูุถุบุท ๐ค
  โ
ูุญุต ุฅุฐู RECORD_AUDIO
  โ
ุจุฏุก AudioRecord
  โ
ุชุณุฌูู ุงูุจูุงูุงุช (ShortArray)
```

### 2. ุงููุนุงูุฌุฉ:
```
ุชุฌููุน 2 ุซุงููุฉ ูู ุงูุตูุช
  โ
ุชุทุจูุน ุงูุจูุงูุงุช (-1.0 to 1.0)
  โ
ุชุญููู ุฅูู ByteBuffer
  โ
ุชูุฑูุฑ ูููููุฐุฌ
```

### 3. ุงูุชุญููู:
```
ุงููููุฐุฌ ููุฎุฑุฌ ุงุญุชูุงููุงุช
  โ
ุงูุจุญุซ ุนู ุฃุนูู ุงุญุชูุงู
  โ
ุชุญููู ุงูููุฑุณ ุฅูู ูุต
  โ
ุฅุฑุฌุงุน ุงููุต
```

### 4. ุงูุนุฑุถ:
```
ุงุณุชูุจุงู ุงููุต
  โ
ุฅุถุงูุฉ ุฅูู ุญูู ุงูุฅุฏุฎุงู
  โ
ุฅุธูุงุฑ toast
  โ
ุงูุงุณุชูุฑุงุฑ ูู ุงูุชุณุฌูู
```

---

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุญุงูุงุช ุฒุฑ ุงููููุฑูููู:

#### ุบูุฑ ูุดุท:
```
ุฃููููุฉ: ๐ค
ุงูููู: ุฃุฎุถุฑ (#075E54)
ุงูุดูุงููุฉ: 100%
```

#### ุฃุซูุงุก ุงูุชุณุฌูู:
```
ุฃููููุฉ: โน๏ธ
ุงูููู: ุฃุญูุฑ (#DC3545)
ุงูุดูุงููุฉ: 50-100% (ุญุณุจ ูุณุชูู ุงูุตูุช)
```

#### ูุคุดุฑ ูุณุชูู ุงูุตูุช:
```kotlin
override fun onVolumeChanged(volume: Float) {
    // volume: 0.0 (ุตุงูุช) ุฅูู 1.0 (ุนุงูู)
    val alpha = 0.5f + (volume * 0.5f)
    micButton.alpha = alpha
}
```

---

## โ๏ธ ุงูุฃุฐููุงุช ุงููุทููุจุฉ

### ูู AndroidManifest.xml:
```xml
<!-- ููุฌูุฏ ุจุงููุนู -->
<uses-permission android:name="android.permission.RECORD_AUDIO" />
```

### ุทูุจ ุงูุฅุฐู:
```kotlin
// ูุชู ุชููุงุฆูุงู ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ ุงููููุฑูููู ูุฃูู ูุฑุฉ
ActivityCompat.requestPermissions(
    this,
    arrayOf(Manifest.permission.RECORD_AUDIO),
    RECORD_AUDIO_PERMISSION_CODE
)
```

---

## ๐ ุฏูุฑุฉ ุงูุญูุงุฉ

### ุนูุฏ ูุชุญ ุงูุชุทุจูู:
```kotlin
onCreate() {
    // 1. ุชุญููู ุงููููุฐุฌ
    speechRecognizer.loadModel("speech_model.tflite")
    
    // 2. ุฅุนุฏุงุฏ ุงููุณุชูุน
    setupSpeechRecognizer()
}
```

### ุนูุฏ ุจุฏุก ุงูุชุณุฌูู:
```kotlin
startRecording() {
    // 1. ูุญุต ุงูุฃุฐููุงุช
    // 2. ุจุฏุก AudioRecord
    // 3. ุชุญุฏูุซ ุงููุงุฌูุฉ
}
```

### ุนูุฏ ุฅููุงู ุงูุชุณุฌูู:
```kotlin
stopRecording() {
    // 1. ุฅููุงู AudioRecord
    // 2. ุชุญุฑูุฑ ุงูููุงุฑุฏ
    // 3. ุชุญุฏูุซ ุงููุงุฌูุฉ
}
```

### ุนูุฏ ุฅุบูุงู ุงูุชุทุจูู:
```kotlin
onDestroy() {
    // ุชูุธูู ุงูููุงุฑุฏ
    speechRecognizer.cleanup()
}
```

---

## ๐ก ูุตุงุฆุญ ุงูุชุญุณูู

### 1. ุชุญุณูู ุงูุฃุฏุงุก:
```kotlin
// ุฒูุงุฏุฉ ุนุฏุฏ ุงูุฎููุท ูููุนุงูุฌุฉ
val options = Interpreter.Options().apply {
    setNumThreads(4) // ุงุณุชุฎุฏู 4 ุฎููุท
}
```

### 2. ุชูููู ุงููููู:
```kotlin
// ุชูููู ูุฏุฉ ุงูุชุฌููุน
if (audioData.size >= sampleRate * 1) { // 1 ุซุงููุฉ ุจุฏูุงู ูู 2
    val text = recognizeSpeech(audioData.toShortArray())
}
```

### 3. ุชุญุณูู ุงูุฏูุฉ:
```kotlin
// ุฒูุงุฏุฉ ุญุฏ ุงูุงุญุชูุงู
if (probability < 0.5f) { // 50% ุจุฏูุงู ูู 30%
    return ""
}
```

### 4. ูุนุงูุฌุฉ ุงูุถูุถุงุก:
```kotlin
// ุฅุถุงูุฉ ุชุตููุฉ ููุถูุถุงุก ุงูููุฎูุถุฉ
if (volume < 0.05f) { // ุชุฌุงูู ุงูุตูุช ุงูููุฎูุถ ุฌุฏุงู
    return
}
```

---

## ๐งช ุงุฎุชุจุงุฑ ุงููููุฐุฌ

### 1. ูููุฐุฌ ุชุฌุฑูุจู ุจุณูุท:
ูุจู ุฅุถุงูุฉ ูููุฐุฌู ุงูุญููููุ ููููู ุงุฎุชุจุงุฑ ุงูุชุทุจูู ุจูููุฐุฌ ูููู:

```kotlin
// ูู processOutput()
private fun processOutput(output: Array<FloatArray>): String {
    // ููุงุฎุชุจุงุฑ ููุท - ุฅุฑุฌุงุน ูุต ุซุงุจุช
    return "ุงุฎุชุจุงุฑ - ุชู ุงูุชุนุฑู ุนูู ุงูุตูุช"
}
```

### 2. ุงูุชุญูู ูู ุงูุชุณุฌูู:
```kotlin
// ุฅุถุงูุฉ log ููุชุญูู
Log.d(TAG, "Audio data size: ${audioData.size}")
Log.d(TAG, "Volume level: $volume")
```

### 3. ูุญุต ุงููุฎุฑุฌุงุช:
```kotlin
// ุทุจุงุนุฉ ุฃุนูู 5 ุงุญุชูุงููุงุช
val top5 = probabilities.withIndex()
    .sortedByDescending { it.value }
    .take(5)

top5.forEach { (index, prob) ->
    Log.d(TAG, "Index: $index, Prob: $prob")
}
```

---

## ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ูุซุงู 1: ุฃูุฑ ุจุณูุท
```
ุงููุณุชุฎุฏู: ๐ค "ุงูุชุญ ูุงุชุณุงุจ"
  โ
ุงููููุฐุฌ: "ุงูุชุญ ูุงุชุณุงุจ"
  โ
ุญูู ุงูุฅุฏุฎุงู: "ุงูุชุญ ูุงุชุณุงุจ"
  โ
ุงููุณุชุฎุฏู: โค (ุฅุฑุณุงู)
  โ
ุงูุจูุช: โ ุชู ูุชุญ ูุงุชุณุงุจ
```

### ูุซุงู 2: ุฃูุงูุฑ ูุชุนุฏุฏุฉ
```
ุงููุณุชุฎุฏู: ๐ค "ุงูุชุญ ูุงุชุณุงุจ"
  โ
ุญูู ุงูุฅุฏุฎุงู: "ุงูุชุญ ูุงุชุณุงุจ"
  โ
ุงููุณุชุฎุฏู: ๐ค "ุนูู ุงูุตูุช"
  โ
ุญูู ุงูุฅุฏุฎุงู: "ุงูุชุญ ูุงุชุณุงุจ ุนูู ุงูุตูุช"
  โ
ุงููุณุชุฎุฏู: ๐ค "ุดุบู ุงููุงู ูุงู"
  โ
ุญูู ุงูุฅุฏุฎุงู: "ุงูุชุญ ูุงุชุณุงุจ ุนูู ุงูุตูุช ุดุบู ุงููุงู ูุงู"
  โ
ุงููุณุชุฎุฏู: โค
  โ
ุงูุจูุช: ๐ ูุฌุฏุช 3 ุฃูุงูุฑ...
```

### ูุซุงู 3: ุชุตุญูุญ ูุจู ุงูุฅุฑุณุงู
```
ุงููุณุชุฎุฏู: ๐ค "ุงูุชุญ ูุงุชุณุงุจ" (ุฎุทุฃ)
  โ
ุญูู ุงูุฅุฏุฎุงู: "ุงูุชุญ ูุงุชุณุงุจ"
  โ
ุงููุณุชุฎุฏู: ูุนุฏู ูุฏููุงู โ "ุงูุชุญ ูุงุชุณุงุจ"
  โ
ุงููุณุชุฎุฏู: โค
  โ
ุงูุจูุช: โ ุชู ูุชุญ ูุงุชุณุงุจ
```

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### 1. ุฅุถุงูุฉ ุงููููุฐุฌ:
```bash
1. ุงุญุตู ุนูู ูููุฐุฌ TFLite ููุนุฑุจูุฉ
2. ุถุนู ูู: app/src/main/assets/speech_model.tflite
3. ุงุฎุชูุงุฑู: ุฃุถู vocabulary.txt
```

### 2. ุชุฎุตูุต ุงููุนุงูุฌุฉ:
```kotlin
// ุนุฏูู ุฏุงูุฉ processOutput() ุญุณุจ ูููุฐุฌู
// ุนุฏูู ุฏุงูุฉ indexToText() ูุชุญููู ุงููุฎุฑุฌุงุช
```

### 3. ุงูุงุฎุชุจุงุฑ:
```
1. ุดุบูู ุงูุชุทุจูู
2. ุงุถุบุท ๐ค
3. ุชููู
4. ุฑุงูุจ ุงููุต ูู ุญูู ุงูุฅุฏุฎุงู
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงููููุฐุฌ ูุง ููุญููู
```
ุงูุณุจุจ: ููู speech_model.tflite ุบูุฑ ููุฌูุฏ
ุงูุญู: ุชุฃูุฏ ูู ูุถุน ุงูููู ูู assets/
```

### ุงููุดููุฉ: ูุง ูุชู ุงูุชุนุฑู ุนูู ุงูุตูุช
```
ุงูุณุจุจ 1: ุงููููุฐุฌ ูุญุชุงุฌ input ูุฎุชูู
ุงูุญู: ุนุฏูู prepareInputBuffer()

ุงูุณุจุจ 2: ูุฎุฑุฌุงุช ุงููููุฐุฌ ูุฎุชููุฉ
ุงูุญู: ุนุฏูู processOutput()
```

### ุงููุดููุฉ: ุงูุตูุช ุงููุณุฌู ููุฎูุถ ุฌุฏุงู
```
ุงูุณุจุจ: ุฅุนุฏุงุฏุงุช ุงููููุฑูููู
ุงูุญู: ุชุญูู ูู ุฃุฐููุงุช RECORD_AUDIO
```

### ุงููุดููุฉ: ุงูุชุทุจูู ูุชููู ุนูุฏ ุงูุชุณุฌูู
```
ุงูุณุจุจ: ุฎุทุฃ ูู buffer size
ุงูุญู: ุชุญูู ูู bufferSize ูู SpeechRecognizer
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

```
๐ ูููุงุช ุฌุฏูุฏุฉ: 1 (SpeechRecognizer.kt)
๐ ูููุงุช ูุญุฏูุซุฉ: 2 (MainActivity.kt, build.gradle.kts)
๐ข ุฃุณุทุฑ ููุฏ ุฌุฏูุฏุฉ: ~500
โ๏ธ ููุชุจุงุช ุฌุฏูุฏุฉ: 2 (TFLite, TFLite Support)
๐ค ุฏุนู ุงูุตูุช: ูุงูู
๐ฑ ุฏุนู ุงูุฃุฌูุฒุฉ: Android 7.0+
```

---

## โ ุงูุฎูุงุตุฉ

```
๐ค ุฅุฏุฎุงู ุตูุชู ูุงูู
๐ค ูููุฐุฌ TFLite ูุญูู
๐ ุชุญููู ุตูุช ููุต
โก ูุนุงูุฌุฉ ููุฑูุฉ
๐ ุชูุงูู ูุงูู ูุน ุงููุญุงุฏุซุฉ
๐จ ูุงุฌูุฉ ุณููุฉ
๐ ุจุฏูู ุฅูุชุฑูุช
```

**ุฌุงูุฒ ููุงุณุชุฎุฏุงู!** ๐

---

## ๐ ูููุณุงุนุฏุฉ

ุฅุฐุง ูุงุฌูุช ูุดุงูู ูู:
1. ุชุญููู ุงููููุฐุฌ
2. ูุนุงูุฌุฉ ุงููุฎุฑุฌุงุช
3. ุชุฎุตูุต ุงูุตูุช

ุฑุงุฌุน ุงูููุฏ ูู `SpeechRecognizer.kt` ูุงูุชุนูููุงุช ุงูุชูุตูููุฉ.
